<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/AndroidManifest.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/AndroidManifest.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;          xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;&#10;&#10;    &lt;application&#10;            android:allowBackup=&quot;true&quot;&#10;            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;&#10;            android:fullBackupContent=&quot;@xml/backup_rules&quot;&#10;            android:icon=&quot;@mipmap/ic_launcher&quot;&#10;            android:label=&quot;@string/app_name&quot;&#10;            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;&#10;            android:supportsRtl=&quot;true&quot;&#10;            android:theme=&quot;@style/Theme.KnowMySpot&quot;&#10;            tools:targetApi=&quot;31&quot;&gt;&#10;        &lt;activity&#10;                android:name=&quot;.MainActivity&quot;&#10;                android:exported=&quot;true&quot;&#10;                android:label=&quot;@string/app_name&quot;&#10;                android:theme=&quot;@style/Theme.KnowMySpot&quot;&gt;&#10;            &lt;intent-filter&gt;&#10;                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;&#10;&#10;                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;&#10;            &lt;/intent-filter&gt;&#10;        &lt;/activity&gt;&#10;        &lt;activity android:name=&quot;.HistoryActivity&quot; /&gt;&#10;        &lt;activity android:name=&quot;.SettingsActivity&quot; /&gt;&#10;    &lt;/application&gt;&#10;&#10;&lt;/manifest&gt;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;          xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;&#10;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;&#10;&#10;    &lt;application&#10;            android:allowBackup=&quot;true&quot;&#10;            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;&#10;            android:fullBackupContent=&quot;@xml/backup_rules&quot;&#10;            android:icon=&quot;@mipmap/ic_launcher&quot;&#10;            android:label=&quot;@string/app_name&quot;&#10;            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;&#10;            android:supportsRtl=&quot;true&quot;&#10;            android:theme=&quot;@style/Theme.KnowMySpot&quot;&#10;            tools:targetApi=&quot;31&quot;&gt;&#10;        &lt;activity&#10;                android:name=&quot;.MainActivity&quot;&#10;                android:exported=&quot;true&quot;&#10;                android:label=&quot;@string/app_name&quot;&#10;                android:theme=&quot;@style/Theme.KnowMySpot&quot;&gt;&#10;            &lt;intent-filter&gt;&#10;                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;&#10;&#10;                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;&#10;            &lt;/intent-filter&gt;&#10;        &lt;/activity&gt;&#10;        &lt;activity android:name=&quot;.HistoryActivity&quot; /&gt;&#10;        &lt;activity android:name=&quot;.SettingsActivity&quot; /&gt;&#10;    &lt;/application&gt;&#10;&#10;&lt;/manifest&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/knowmyspot/HistoryActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/knowmyspot/HistoryActivity.kt" />
              <option name="originalContent" value="package com.example.knowmyspot&#10;&#10;import android.os.Bundle&#10;import android.widget.*&#10;import androidx.appcompat.app.AppCompatActivity&#10;&#10;class HistoryActivity : AppCompatActivity() {&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        setContentView(R.layout.activity_history)&#10;&#10;        findViewById&lt;Button&gt;(R.id.btnBack).setOnClickListener {&#10;            finish()&#10;        }&#10;&#10;        val listView = findViewById&lt;ListView&gt;(R.id.listHistory)&#10;        val emptyView = findViewById&lt;TextView&gt;(R.id.tvHistoryEmpty)&#10;&#10;        val adapter = object : ArrayAdapter&lt;HistoryItem&gt;(this, R.layout.item_history, R.id.tvHistoryItemInfo, HistoryStorage.items) {&#10;            override fun getView(position: Int, convertView: android.view.View?, parent: android.view.ViewGroup): android.view.View {&#10;                val inflater = layoutInflater&#10;                val view = convertView ?: inflater.inflate(R.layout.item_history, parent, false)&#10;                val item = getItem(position)&#10;                val info = view.findViewById&lt;TextView&gt;(R.id.tvHistoryItemInfo)&#10;                val etNote = view.findViewById&lt;EditText&gt;(R.id.etNote)&#10;                val btnSave = view.findViewById&lt;Button&gt;(R.id.btnSaveNote)&#10;                info.text = &quot;Lat: %.5f, Lon: %.5f\n%s\nPoznámka: %s&quot;.format(item?.latitude, item?.longitude, item?.weather, item?.note ?: &quot;--&quot;)&#10;                etNote.setText(item?.note ?: &quot;&quot;)&#10;                btnSave.setOnClickListener {&#10;                    item?.let {&#10;                        // Poznámka musí být var, ne val, proto upravíme HistoryItem&#10;                        val index = HistoryStorage.items.indexOf(it)&#10;                        if (index != -1) {&#10;                            HistoryStorage.items[index] = it.copy(note = etNote.text.toString())&#10;                            notifyDataSetChanged()&#10;                        }&#10;                    }&#10;                }&#10;                return view&#10;            }&#10;        }&#10;        listView.adapter = adapter&#10;        listView.emptyView = emptyView&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.knowmyspot&#10;&#10;import android.os.Bundle&#10;import android.view.View&#10;import android.widget.*&#10;import androidx.appcompat.app.AppCompatActivity&#10;&#10;class HistoryActivity : AppCompatActivity() {&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        setContentView(R.layout.activity_history)&#10;&#10;        findViewById&lt;Button&gt;(R.id.btnBack).setOnClickListener {&#10;            finish()&#10;        }&#10;&#10;        val listView = findViewById&lt;ListView&gt;(R.id.listHistory)&#10;        val emptyView = findViewById&lt;TextView&gt;(R.id.tvHistoryEmpty)&#10;&#10;        val adapter = object : ArrayAdapter&lt;HistoryItem&gt;(this, R.layout.item_history, R.id.tvHistoryItemInfo, HistoryStorage.items) {&#10;            override fun getView(position: Int, convertView: View?, parent: android.view.ViewGroup): View {&#10;                val inflater = layoutInflater&#10;                val view = convertView ?: inflater.inflate(R.layout.item_history, parent, false)&#10;                val item = getItem(position)&#10;                val info = view.findViewById&lt;TextView&gt;(R.id.tvHistoryItemInfo)&#10;                val btnEdit = view.findViewById&lt;ImageButton&gt;(R.id.btnEditNote)&#10;                val etNote = view.findViewById&lt;EditText&gt;(R.id.etNote)&#10;                val btnSave = view.findViewById&lt;Button&gt;(R.id.btnSaveNote)&#10;&#10;                // Zobraz info o záznamu a poznámku pouze jako text&#10;                info.text = &quot;Lat: %.5f, Lon: %.5f\n%s\nPoznámka: %s&quot;.format(item?.latitude, item?.longitude, item?.weather, item?.note ?: &quot;--&quot;)&#10;                etNote.visibility = View.GONE&#10;                btnSave.visibility = View.GONE&#10;&#10;                btnEdit.setOnClickListener {&#10;                    etNote.setText(item?.note ?: &quot;&quot;)&#10;                    etNote.visibility = View.VISIBLE&#10;                    btnSave.visibility = View.VISIBLE&#10;                    etNote.requestFocus()&#10;                }&#10;                btnSave.setOnClickListener {&#10;                    item?.let {&#10;                        val index = HistoryStorage.items.indexOf(it)&#10;                        if (index != -1) {&#10;                            HistoryStorage.items[index] = it.copy(note = etNote.text.toString())&#10;                            notifyDataSetChanged()&#10;                        }&#10;                    }&#10;                    etNote.visibility = View.GONE&#10;                    btnSave.visibility = View.GONE&#10;                }&#10;                return view&#10;            }&#10;        }&#10;        listView.adapter = adapter&#10;        listView.emptyView = emptyView&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/knowmyspot/HistoryStorage.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/knowmyspot/HistoryStorage.kt" />
              <option name="updatedContent" value="package com.example.knowmyspot&#10;&#10;data class HistoryItem(&#10;    val latitude: Double,&#10;    val longitude: Double,&#10;    val weather: String,&#10;    val note: String? = null,&#10;    val timestamp: Long = System.currentTimeMillis()&#10;)&#10;&#10;object HistoryStorage {&#10;    val items = mutableListOf&lt;HistoryItem&gt;()&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/knowmyspot/MainActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/knowmyspot/MainActivity.kt" />
              <option name="originalContent" value="package com.example.knowmyspot&#10;&#10;import android.Manifest&#10;import android.content.Intent&#10;import android.content.pm.PackageManager&#10;import android.location.Location&#10;import android.os.Bundle&#10;import android.util.Log&#10;import android.widget.Button&#10;import android.widget.TextView&#10;import androidx.annotation.RequiresPermission&#10;import androidx.appcompat.app.AppCompatActivity&#10;import androidx.core.app.ActivityCompat&#10;import com.google.android.gms.location.FusedLocationProviderClient&#10;import com.google.android.gms.location.LocationServices&#10;import retrofit2.Call&#10;import retrofit2.Callback&#10;import retrofit2.Response&#10;import retrofit2.Retrofit&#10;import retrofit2.converter.gson.GsonConverterFactory&#10;import retrofit2.http.GET&#10;import retrofit2.http.Query&#10;&#10;class MainActivity : AppCompatActivity() {&#10;    private lateinit var fusedLocationClient: FusedLocationProviderClient&#10;    private lateinit var tvLocation: TextView&#10;    private lateinit var tvWeather: TextView&#10;    private lateinit var btnRefresh: Button&#10;&#10;    private var lastLat: Double? = null&#10;    private var lastLon: Double? = null&#10;    private var lastWeather: String? = null&#10;    private val weatherApiKey = &quot;daf995ddd2e62368f8cb8e6151c40a4e&quot;&#10;    private val weatherApi: WeatherApi by lazy {&#10;        Retrofit.Builder()&#10;            .baseUrl(&quot;https://api.openweathermap.org/data/2.5/&quot;)&#10;            .addConverterFactory(GsonConverterFactory.create())&#10;            .build()&#10;            .create(WeatherApi::class.java)&#10;    }&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        setContentView(R.layout.activity_main)&#10;&#10;        fusedLocationClient = LocationServices.getFusedLocationProviderClient(this)&#10;        tvLocation = findViewById(R.id.tvLocation)&#10;        tvWeather = findViewById(R.id.tvWeather)&#10;        btnRefresh = findViewById(R.id.btnRefresh)&#10;&#10;        findViewById&lt;Button&gt;(R.id.btnHistory).setOnClickListener {&#10;            startActivity(Intent(this, HistoryActivity::class.java))&#10;        }&#10;        findViewById&lt;Button&gt;(R.id.btnSettings).setOnClickListener {&#10;            startActivity(Intent(this, SettingsActivity::class.java))&#10;        }&#10;&#10;        btnRefresh.setOnClickListener {&#10;            getLastLocation()&#10;            getWeather()&#10;        }&#10;        getLastLocation()&#10;        getWeather()&#10;    }&#10;&#10;    @RequiresPermission(anyOf = [Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION])&#10;    private fun getLastLocation() {&#10;        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp;&#10;            ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {&#10;            ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.ACCESS_FINE_LOCATION), 100)&#10;            return&#10;        }&#10;        fusedLocationClient.lastLocation.addOnSuccessListener { location: Location? -&gt;&#10;            if (location != null) {&#10;                tvLocation.text = &quot;Lat: ${location.latitude}, Lon: ${location.longitude}&quot;&#10;                lastLat = location.latitude&#10;                lastLon = location.longitude&#10;                getWeather() // Po získání polohy rovnou načti počasí&#10;            } else {&#10;                tvLocation.text = &quot;Poloha není dostupná&quot;&#10;                tvWeather.text = &quot;Počasí: --&quot;&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun getWeather() {&#10;        val lat = lastLat&#10;        val lon = lastLon&#10;        if (lat == null || lon == null) {&#10;            tvWeather.text = &quot;Počasí: --&quot;&#10;            Log.e(&quot;Weather&quot;, &quot;Souřadnice nejsou k dispozici&quot;)&#10;            return&#10;        }&#10;        weatherApi.getWeather(lat, lon, weatherApiKey).enqueue(object : Callback&lt;WeatherResponse&gt; {&#10;            override fun onResponse(call: Call&lt;WeatherResponse&gt;, response: Response&lt;WeatherResponse&gt;) {&#10;                if (!response.isSuccessful) {&#10;                    tvWeather.text = &quot;Počasí: --&quot;&#10;                    Log.e(&quot;Weather&quot;, &quot;Chyba HTTP: ${response.code()} ${response.message()}&quot;)&#10;                    return&#10;                }&#10;                val body = response.body()&#10;                if (body != null) {&#10;                    val desc = body.weather.firstOrNull()?.description ?: &quot;--&quot;&#10;                    val temp = body.main.temp&#10;                    val weatherText = &quot;Počasí: $temp°C, $desc&quot;&#10;                    tvWeather.text = weatherText&#10;                    lastWeather = weatherText&#10;                    // Uložení do historie&#10;                    val lat = lastLat&#10;                    val lon = lastLon&#10;                    if (lat != null &amp;&amp; lon != null) {&#10;                        HistoryStorage.items.add(0, HistoryItem(lat, lon, weatherText))&#10;                    }&#10;                    Log.d(&quot;Weather&quot;, &quot;Úspěch: $temp°C, $desc&quot;)&#10;                } else {&#10;                    tvWeather.text = &quot;Počasí: --&quot;&#10;                    Log.e(&quot;Weather&quot;, &quot;Tělo odpovědi je null&quot;)&#10;                }&#10;            }&#10;            override fun onFailure(call: Call&lt;WeatherResponse&gt;, t: Throwable) {&#10;                tvWeather.text = &quot;Počasí: --&quot;&#10;                Log.e(&quot;Weather&quot;, &quot;Chyba volání: ${t.message}&quot;, t)&#10;            }&#10;        })&#10;    }&#10;&#10;    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {&#10;        super.onRequestPermissionsResult(requestCode, permissions, grantResults)&#10;        if (requestCode == 100 &amp;&amp; grantResults.isNotEmpty() &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {&#10;            getLastLocation()&#10;        }&#10;    }&#10;}&#10;&#10;// --- OpenWeatherMap API rozhraní ---&#10;interface WeatherApi {&#10;    @GET(&quot;weather&quot;)&#10;    fun getWeather(&#10;        @Query(&quot;lat&quot;) lat: Double,&#10;        @Query(&quot;lon&quot;) lon: Double,&#10;        @Query(&quot;appid&quot;) apiKey: String,&#10;        @Query(&quot;units&quot;) units: String = &quot;metric&quot;,&#10;        @Query(&quot;lang&quot;) lang: String = &quot;cz&quot;&#10;    ): Call&lt;WeatherResponse&gt;&#10;}&#10;&#10;data class WeatherResponse(&#10;    val weather: List&lt;WeatherDesc&gt;,&#10;    val main: MainWeather&#10;)&#10;data class WeatherDesc(val description: String)&#10;data class MainWeather(val temp: Double)&#10;" />
              <option name="updatedContent" value="package com.example.knowmyspot&#10;&#10;import android.Manifest&#10;import android.content.Intent&#10;import android.content.pm.PackageManager&#10;import android.location.Location&#10;import android.os.Bundle&#10;import android.util.Log&#10;import android.widget.Button&#10;import android.widget.TextView&#10;import androidx.annotation.RequiresPermission&#10;import androidx.appcompat.app.AppCompatActivity&#10;import androidx.core.app.ActivityCompat&#10;import com.google.android.gms.location.FusedLocationProviderClient&#10;import com.google.android.gms.location.LocationServices&#10;import retrofit2.Call&#10;import retrofit2.Callback&#10;import retrofit2.Response&#10;import retrofit2.Retrofit&#10;import retrofit2.converter.gson.GsonConverterFactory&#10;import retrofit2.http.GET&#10;import retrofit2.http.Query&#10;&#10;class MainActivity : AppCompatActivity() {&#10;    private lateinit var fusedLocationClient: FusedLocationProviderClient&#10;    private lateinit var tvLocation: TextView&#10;    private lateinit var tvWeather: TextView&#10;    private lateinit var btnRefresh: Button&#10;&#10;    private var lastLat: Double? = null&#10;    private var lastLon: Double? = null&#10;    private var lastWeather: String? = null&#10;    private val weatherApiKey = &quot;daf995ddd2e62368f8cb8e6151c40a4e&quot;&#10;    private val weatherApi: WeatherApi by lazy {&#10;        Retrofit.Builder()&#10;            .baseUrl(&quot;https://api.openweathermap.org/data/2.5/&quot;)&#10;            .addConverterFactory(GsonConverterFactory.create())&#10;            .build()&#10;            .create(WeatherApi::class.java)&#10;    }&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        setContentView(R.layout.activity_main)&#10;&#10;        fusedLocationClient = LocationServices.getFusedLocationProviderClient(this)&#10;        tvLocation = findViewById(R.id.tvLocation)&#10;        tvWeather = findViewById(R.id.tvWeather)&#10;        btnRefresh = findViewById(R.id.btnRefresh)&#10;&#10;        findViewById&lt;Button&gt;(R.id.btnHistory).setOnClickListener {&#10;            startActivity(Intent(this, HistoryActivity::class.java))&#10;        }&#10;        findViewById&lt;Button&gt;(R.id.btnSettings).setOnClickListener {&#10;            startActivity(Intent(this, SettingsActivity::class.java))&#10;        }&#10;&#10;        btnRefresh.setOnClickListener {&#10;            getLastLocation()&#10;        }&#10;        getLastLocation()&#10;    }&#10;&#10;    @RequiresPermission(anyOf = [Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION])&#10;    private fun getLastLocation() {&#10;        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp;&#10;            ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {&#10;            ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.ACCESS_FINE_LOCATION), 100)&#10;            return&#10;        }&#10;        fusedLocationClient.lastLocation.addOnSuccessListener { location: Location? -&gt;&#10;            if (location != null) {&#10;                tvLocation.text = &quot;Lat: ${location.latitude}, Lon: ${location.longitude}&quot;&#10;                lastLat = location.latitude&#10;                lastLon = location.longitude&#10;                getWeather() // Po získání polohy rovnou načti počasí&#10;            } else {&#10;                tvLocation.text = &quot;Poloha není dostupná&quot;&#10;                tvWeather.text = &quot;Počasí: --&quot;&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun getWeather() {&#10;        val lat = lastLat&#10;        val lon = lastLon&#10;        if (lat == null || lon == null) {&#10;            tvWeather.text = &quot;Počasí: --&quot;&#10;            Log.e(&quot;Weather&quot;, &quot;Souřadnice nejsou k dispozici&quot;)&#10;            return&#10;        }&#10;        weatherApi.getWeather(lat, lon, weatherApiKey).enqueue(object : Callback&lt;WeatherResponse&gt; {&#10;            override fun onResponse(call: Call&lt;WeatherResponse&gt;, response: Response&lt;WeatherResponse&gt;) {&#10;                if (!response.isSuccessful) {&#10;                    tvWeather.text = &quot;Počasí: --&quot;&#10;                    Log.e(&quot;Weather&quot;, &quot;Chyba HTTP: ${response.code()} ${response.message()}&quot;)&#10;                    return&#10;                }&#10;                val body = response.body()&#10;                if (body != null) {&#10;                    val desc = body.weather.firstOrNull()?.description ?: &quot;--&quot;&#10;                    val temp = body.main.temp&#10;                    val weatherText = &quot;Počasí: $temp°C, $desc&quot;&#10;                    tvWeather.text = weatherText&#10;                    lastWeather = weatherText&#10;                    // Uložení do historie&#10;                    val lat = lastLat&#10;                    val lon = lastLon&#10;                    if (lat != null &amp;&amp; lon != null) {&#10;                        HistoryStorage.items.add(0, HistoryItem(lat, lon, weatherText))&#10;                    }&#10;                    Log.d(&quot;Weather&quot;, &quot;Úspěch: $temp°C, $desc&quot;)&#10;                } else {&#10;                    tvWeather.text = &quot;Počasí: --&quot;&#10;                    Log.e(&quot;Weather&quot;, &quot;Tělo odpovědi je null&quot;)&#10;                }&#10;            }&#10;            override fun onFailure(call: Call&lt;WeatherResponse&gt;, t: Throwable) {&#10;                tvWeather.text = &quot;Počasí: --&quot;&#10;                Log.e(&quot;Weather&quot;, &quot;Chyba volání: ${t.message}&quot;, t)&#10;            }&#10;        })&#10;    }&#10;&#10;    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {&#10;        super.onRequestPermissionsResult(requestCode, permissions, grantResults)&#10;        if (requestCode == 100 &amp;&amp; grantResults.isNotEmpty() &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {&#10;            getLastLocation()&#10;        }&#10;    }&#10;}&#10;&#10;// --- OpenWeatherMap API rozhraní ---&#10;interface WeatherApi {&#10;    @GET(&quot;weather&quot;)&#10;    fun getWeather(&#10;        @Query(&quot;lat&quot;) lat: Double,&#10;        @Query(&quot;lon&quot;) lon: Double,&#10;        @Query(&quot;appid&quot;) apiKey: String,&#10;        @Query(&quot;units&quot;) units: String = &quot;metric&quot;,&#10;        @Query(&quot;lang&quot;) lang: String = &quot;cz&quot;&#10;    ): Call&lt;WeatherResponse&gt;&#10;}&#10;&#10;data class WeatherResponse(&#10;    val weather: List&lt;WeatherDesc&gt;,&#10;    val main: MainWeather&#10;)&#10;data class WeatherDesc(val description: String)&#10;data class MainWeather(val temp: Double)" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/knowmyspot/SettingsActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/knowmyspot/SettingsActivity.kt" />
              <option name="originalContent" value="package com.example.knowmyspot&#10;&#10;import android.os.Bundle&#10;import androidx.appcompat.app.AppCompatActivity&#10;&#10;class SettingsActivity : AppCompatActivity() {&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        setContentView(R.layout.activity_settings)&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.knowmyspot&#10;&#10;import android.os.Bundle&#10;import androidx.appcompat.app.AppCompatActivity&#10;&#10;class SettingsActivity : AppCompatActivity() {&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        setContentView(R.layout.activity_settings)&#10;&#10;        findViewById&lt;android.widget.Button&gt;(R.id.btnBack).setOnClickListener {&#10;            finish()&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/ic_edit_24.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/ic_edit_24.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;24&quot;&#10;    android:viewportHeight=&quot;24&quot;&gt;&#10;    &lt;path&#10;        android:fillColor=&quot;#FF000000&quot;&#10;        android:pathData=&quot;M3 17.25V21h3.75l11.06-11.06-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z&quot;/&gt;&#10;&lt;/vector&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/activity_history.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/activity_history.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:orientation=&quot;vertical&quot;&#10;    android:padding=&quot;24dp&quot;&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvHistoryTitle&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Historie poloh a počasí&quot;&#10;        android:textSize=&quot;22sp&quot;&#10;        android:textStyle=&quot;bold&quot;&#10;        android:layout_gravity=&quot;center_horizontal&quot;&#10;        android:paddingBottom=&quot;24dp&quot;/&gt;&#10;&#10;    &lt;ListView&#10;        android:id=&quot;@+id/listHistory&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;0dp&quot;&#10;        android:layout_weight=&quot;1&quot;&#10;        android:divider=&quot;@android:color/darker_gray&quot;&#10;        android:dividerHeight=&quot;1dp&quot;/&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvHistoryEmpty&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Žádná historie zatím není.&quot;&#10;        android:gravity=&quot;center&quot;&#10;        android:visibility=&quot;gone&quot;&#10;        android:layout_marginTop=&quot;16dp&quot;/&gt;&#10;&#10;&lt;/LinearLayout&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:orientation=&quot;vertical&quot;&#10;    android:padding=&quot;24dp&quot;&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvHistoryTitle&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Historie poloh a počasí&quot;&#10;        android:textSize=&quot;22sp&quot;&#10;        android:textStyle=&quot;bold&quot;&#10;        android:layout_gravity=&quot;center_horizontal&quot;&#10;        android:paddingBottom=&quot;24dp&quot;/&gt;&#10;&#10;    &lt;ListView&#10;        android:id=&quot;@+id/listHistory&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;0dp&quot;&#10;        android:layout_weight=&quot;1&quot;&#10;        android:divider=&quot;@android:color/darker_gray&quot;&#10;        android:dividerHeight=&quot;1dp&quot;/&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvHistoryEmpty&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Žádná historie zatím není.&quot;&#10;        android:gravity=&quot;center&quot;&#10;        android:visibility=&quot;gone&quot;&#10;        android:layout_marginTop=&quot;16dp&quot;/&gt;&#10;&#10;    &lt;Button&#10;        android:id=&quot;@+id/btnBack&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Zpět&quot;&#10;        android:layout_marginTop=&quot;16dp&quot;/&gt;&#10;&#10;&lt;/LinearLayout&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/activity_main.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/activity_main.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:orientation=&quot;vertical&quot;&#10;    android:padding=&quot;24dp&quot;&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvTitle&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Poznej moje místo&quot;&#10;        android:textSize=&quot;24sp&quot;&#10;        android:textStyle=&quot;bold&quot;&#10;        android:layout_gravity=&quot;center_horizontal&quot;&#10;        android:paddingBottom=&quot;32dp&quot;/&gt;&#10;&#10;    &lt;Button&#10;        android:id=&quot;@+id/btnHistory&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Historie&quot;/&gt;&#10;&#10;    &lt;Button&#10;        android:id=&quot;@+id/btnSettings&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Nastavení / Poznámka&quot;&#10;        android:layout_marginTop=&quot;16dp&quot;/&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvLocation&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Poloha: --&quot;&#10;        android:textSize=&quot;16sp&quot;&#10;        android:layout_marginTop=&quot;24dp&quot;&#10;        android:layout_marginBottom=&quot;16dp&quot;/&gt;&#10;&#10;    &lt;!-- Další prvky pro lokaci, počasí, fakt atd. budou doplněny --&gt;&#10;&#10;&lt;/LinearLayout&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:orientation=&quot;vertical&quot;&#10;    android:padding=&quot;24dp&quot;&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvTitle&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Poznej moje místo&quot;&#10;        android:textSize=&quot;24sp&quot;&#10;        android:textStyle=&quot;bold&quot;&#10;        android:layout_gravity=&quot;center_horizontal&quot;&#10;        android:paddingBottom=&quot;32dp&quot;/&gt;&#10;&#10;    &lt;Button&#10;        android:id=&quot;@+id/btnHistory&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Historie&quot;/&gt;&#10;&#10;    &lt;Button&#10;        android:id=&quot;@+id/btnSettings&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Nastavení / Poznámka&quot;&#10;        android:layout_marginTop=&quot;16dp&quot;/&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvLocation&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Poloha: --&quot;&#10;        android:textSize=&quot;16sp&quot;&#10;        android:layout_marginTop=&quot;24dp&quot;&#10;        android:layout_marginBottom=&quot;16dp&quot;/&gt;&#10;&#10;    &lt;Button&#10;        android:id=&quot;@+id/btnRefresh&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Obnovit polohu a počasí&quot;&#10;        android:layout_marginTop=&quot;8dp&quot;/&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvWeather&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Počasí: --&quot;&#10;        android:textSize=&quot;16sp&quot;&#10;        android:layout_marginTop=&quot;8dp&quot;&#10;        android:layout_marginBottom=&quot;16dp&quot;/&gt;&#10;&#10;    &lt;!-- Další prvky pro lokaci, počasí, fakt atd. budou doplněny --&gt;&#10;&#10;&lt;/LinearLayout&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/activity_settings.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/activity_settings.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:orientation=&quot;vertical&quot;&#10;    android:padding=&quot;24dp&quot;&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvSettingsTitle&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Nastavení / Poznámka&quot;&#10;        android:textSize=&quot;22sp&quot;&#10;        android:textStyle=&quot;bold&quot;&#10;        android:layout_gravity=&quot;center_horizontal&quot;&#10;        android:paddingBottom=&quot;24dp&quot;/&gt;&#10;&#10;    &lt;!-- Zde bude možnost přidat poznámku nebo nastavit jednotky --&gt;&#10;&#10;&lt;/LinearLayout&gt;&#10;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:orientation=&quot;vertical&quot;&#10;    android:padding=&quot;24dp&quot;&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvSettingsTitle&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Nastavení / Poznámka&quot;&#10;        android:textSize=&quot;22sp&quot;&#10;        android:textStyle=&quot;bold&quot;&#10;        android:layout_gravity=&quot;center_horizontal&quot;&#10;        android:paddingBottom=&quot;24dp&quot;/&gt;&#10;&#10;    &lt;!-- Zde bude možnost přidat poznámku nebo nastavit jednotky --&gt;&#10;&#10;    &lt;Button&#10;        android:id=&quot;@+id/btnBack&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Zpět&quot;&#10;        android:layout_marginTop=&quot;16dp&quot;/&gt;&#10;&#10;&lt;/LinearLayout&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/item_history.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/item_history.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;wrap_content&quot;&#10;    android:orientation=&quot;vertical&quot;&#10;    android:padding=&quot;8dp&quot;&gt;&#10;&#10;    &lt;LinearLayout&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:orientation=&quot;horizontal&quot;&#10;        android:gravity=&quot;center_vertical&quot;&gt;&#10;&#10;        &lt;TextView&#10;            android:id=&quot;@+id/tvHistoryItemInfo&quot;&#10;            android:layout_width=&quot;0dp&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_weight=&quot;1&quot;&#10;            android:text=&quot;Info&quot;&#10;            android:textSize=&quot;16sp&quot;/&gt;&#10;&#10;        &lt;ImageButton&#10;            android:id=&quot;@+id/btnEditNote&quot;&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:src=&quot;@android:drawable/ic_menu_edit&quot;&#10;            android:background=&quot;@android:color/transparent&quot;&#10;            android:contentDescription=&quot;Editovat poznámku&quot;&#10;            android:padding=&quot;4dp&quot;/&gt;&#10;    &lt;/LinearLayout&gt;&#10;&#10;    &lt;EditText&#10;        android:id=&quot;@+id/etNote&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:hint=&quot;Poznámka...&quot;&#10;        android:visibility=&quot;gone&quot;/&gt;&#10;&#10;    &lt;Button&#10;        android:id=&quot;@+id/btnSaveNote&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Uložit poznámku&quot;&#10;        android:layout_gravity=&quot;end&quot;&#10;        android:layout_marginTop=&quot;4dp&quot;&#10;        android:visibility=&quot;gone&quot;/&gt;&#10;&lt;/LinearLayout&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;wrap_content&quot;&#10;    android:orientation=&quot;vertical&quot;&#10;    android:padding=&quot;8dp&quot;&gt;&#10;&#10;    &lt;LinearLayout&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:orientation=&quot;horizontal&quot;&#10;        android:gravity=&quot;center_vertical&quot;&gt;&#10;&#10;        &lt;TextView&#10;            android:id=&quot;@+id/tvHistoryItemInfo&quot;&#10;            android:layout_width=&quot;0dp&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_weight=&quot;1&quot;&#10;            android:text=&quot;Info&quot;&#10;            android:textSize=&quot;16sp&quot;/&gt;&#10;&#10;        &lt;ImageButton&#10;            android:id=&quot;@+id/btnEditNote&quot;&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:src=&quot;@drawable/ic_edit_24&quot;&#10;            android:background=&quot;@android:color/transparent&quot;&#10;            android:contentDescription=&quot;Editovat poznámku&quot;&#10;            android:padding=&quot;4dp&quot;/&gt;&#10;    &lt;/LinearLayout&gt;&#10;&#10;    &lt;EditText&#10;        android:id=&quot;@+id/etNote&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:hint=&quot;Poznámka...&quot;&#10;        android:visibility=&quot;gone&quot;/&gt;&#10;&#10;    &lt;Button&#10;        android:id=&quot;@+id/btnSaveNote&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Uložit poznámku&quot;&#10;        android:layout_gravity=&quot;end&quot;&#10;        android:layout_marginTop=&quot;4dp&quot;&#10;        android:visibility=&quot;gone&quot;/&gt;&#10;&lt;/LinearLayout&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/values/themes.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/values/themes.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;resources&gt;&#10;    &lt;style name=&quot;Theme.KnowMySpot&quot; parent=&quot;android:Theme.Material.Light.NoActionBar&quot;/&gt;&#10;&lt;/resources&gt;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;resources&gt;&#10;    &lt;style name=&quot;Theme.KnowMySpot&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;/&gt;&#10;&lt;/resources&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>